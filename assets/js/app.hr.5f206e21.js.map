{"version":3,"sources":["webpack:///./src/utils/isVercel.js","webpack:///./src/store/character.js","webpack:///./src/views/Hr.vue?7bb9","webpack:///src/views/Hr.vue","webpack:///./src/views/Hr.vue?3e0f","webpack:///./src/views/Hr.vue","webpack:///./src/utils/ajax.js","webpack:///./src/views/Hr.vue?d492"],"names":["module","exports","process","VUE_APP_VERCEL","characterTable","_","mapValues","character","obj","name","Object","values","characterList","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","class","$root","smallScreen","_e","directives","rawName","value","color","expression","_v","_s","$t","allStar","selected","notSelected","on","$event","star","l","fill","Array","length","_l","i","setting","hide12","key","model","callback","$$v","$set","tagList","tagType","tag","reset","preventDefault","e","tagImg","dataTransfer","files","localeNameSimple","ref","staticStyle","$refs","image","$nextTick","showGuarantees","enumTagZh","高级资深干员","资深干员","支援机械","_m","style","screenWidth","comb","text","min","char","showAvatar","showDetail","isPub","recruitment","combinations","detail","profession","position","concat","tags","getWikiHref","drawer","$Drawer","toggle","staticRenderFns","freeze","data","watch","handler","$alert","confirmText","history","tagsCache","includes","deep","localStorage","setItem","JSON","stringify","val","computed","guarantees","result","sort","$emit","compare","pubs","hr","filter","enumTag","methods","localeEnum","locale","detectPaste","keyCode","ctrlKey","created","forEach","charTagSum","avgCharTag","tagCount","abilities","from","$$","window","beforeDestroy","off","component","ajax","Mdui","JQ","JSONSTORAGE_URL","require","promisedAjax","options","Promise","resolve","reject","success","error","xhr","textStatus","get","url","json","method","dataType","tagOCR","formdata","FormData","each","v","k","append","processData","contentType","ocrspace","headers","apikey","createJson","then","uri","last","split","getJson","id","updateJson"],"mappings":"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","file":"assets/js/app.hr.5f206e21.js","sourcesContent":["module.exports = !!process.env.VUE_APP_VERCEL;\n","import _ from 'lodash';\nimport character from '@/data/character.json';\n\nexport const characterTable = _.mapValues(character, (obj, name) => ({ name, ...obj }));\nexport const characterList = Object.values(characterTable);\n\nexport default {\n  characterTable,\n  characterList: Object.values(characterTable),\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"arkn-hr\"}},[_c('div',{staticClass:\"mdui-row\"},[_c('div',{staticClass:\"mdui-col-xs-12\"},[_c('div',{class:_vm.$root.smallScreen ? 'mdui-drawer mdui-drawer-right mdui-drawer-close' : false,attrs:{\"id\":\"drawer\"}},[_c('table',{staticClass:\"mdui-table tag-table\"},[_c('tbody',[_c('tr',[(!_vm.$root.smallScreen)?_c('td',{attrs:{\"width\":\"1\"}},[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.$root.color.tagBtnHead),expression:\"$root.color.tagBtnHead\"}],staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"},[_vm._v(_vm._s(_vm.$t('common.stars')))])]):_vm._e(),_c('td',{staticClass:\"mobile-screen-flex-box tag-btn-wrap\"},[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.allStar ? _vm.color.selected : _vm.color.notSelected),expression:\"allStar ? color.selected : color.notSelected\"}],staticClass:\"mdui-btn mdui-btn-dense mdui-ripple tag-btn flex-full\",on:{\"click\":function($event){_vm.selected.star = _vm.l.fill(Array(_vm.selected.star.length), !_vm.allStar)}}},[_vm._v(_vm._s(_vm.$t('common.selectAll')))]),_vm._l((6),function(i){return _c('tag-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!(6 - i < 2 && _vm.setting.hide12)),expression:\"!(6 - i < 2 && setting.hide12)\"}],key:(\"star-\" + (7 - i)),staticClass:\"flex-equally\",attrs:{\"notSelectedColor\":_vm.color.notSelected,\"selectedColor\":_vm.color[7 - i]},model:{value:(_vm.selected.star[6 - i]),callback:function ($$v) {_vm.$set(_vm.selected.star, 6 - i, $$v)},expression:\"selected.star[6 - i]\"}},[_vm._v(_vm._s(7 - i)+\"★\")])})],2)]),_vm._l((_vm.tagList.sort),function(tagType){return _c('tr',{key:tagType},[(!_vm.$root.smallScreen)?_c('td',{attrs:{\"width\":\"1\"}},[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.$root.color.tagBtnHead),expression:\"$root.color.tagBtnHead\"}],staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"},[_vm._v(_vm._s(_vm.$t((\"hr.tagType.\" + tagType))))])]):_vm._e(),_c('td',{staticClass:\"mobile-screen-flex-box tag-btn-wrap\"},_vm._l((_vm.tagList[tagType]),function(tag){return _c('tag-button',{key:(tagType + \"-\" + tag),attrs:{\"notSelectedColor\":_vm.color.notSelected,\"selectedColor\":_vm.color.selected},model:{value:(_vm.selected.tag[tag]),callback:function ($$v) {_vm.$set(_vm.selected.tag, tag, $$v)},expression:\"selected.tag[tag]\"}},[_vm._v(_vm._s(_vm.$t((\"tag.\" + tag))))])}),1)])}),_c('tr',[(!_vm.$root.smallScreen)?_c('td',{attrs:{\"width\":\"1\"}},[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.$root.color.tagBtnHead),expression:\"$root.color.tagBtnHead\"}],staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"},[_vm._v(_vm._s(_vm.$t('common.setting')))])]):_vm._e(),_c('td',[_vm._l((_vm.settingList),function(key){return _c('mdui-switch',{key:key,model:{value:(_vm.setting[key]),callback:function ($$v) {_vm.$set(_vm.setting, key, $$v)},expression:\"setting[key]\"}},[_vm._v(_vm._s(_vm.$t((\"hr.setting.\" + key))))])}),(_vm.$root.localeNotZH)?_c('mdui-switch',{staticClass:\"mdui-m-r-2\",model:{value:(_vm.setting.showNotImplemented),callback:function ($$v) {_vm.$set(_vm.setting, \"showNotImplemented\", $$v)},expression:\"setting.showNotImplemented\"}},[_vm._v(_vm._s(_vm.$t('hr.setting.showNotImplemented')))]):_vm._e()],2)]),_c('tr',[(!_vm.$root.smallScreen)?_c('td',{attrs:{\"width\":\"1\"}},[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.$root.color.tagBtnHead),expression:\"$root.color.tagBtnHead\"}],staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"},[_vm._v(_vm._s(_vm.$t('common.option')))])]):_vm._e(),_c('td',{staticClass:\"mobile-screen-flex-box tag-btn-wrap\"},[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.$root.color.redBtn),expression:\"$root.color.redBtn\"}],staticClass:\"mdui-btn mdui-ripple mdui-btn-dense tag-btn\",on:{\"click\":_vm.reset}},[_vm._v(_vm._s(_vm.$t('common.reset')))]),_c('label',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']),expression:\"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']\"}],staticClass:\"mdui-btn mdui-ripple mdui-btn-dense tag-btn\",attrs:{\"for\":\"image-select\",\"mdui-tooltip\":(\"{content:'\" + (_vm.$t('hr.ocr.tip')) + \"',position:'top'}\")},on:{\"dragover\":function($event){$event.preventDefault();},\"drop\":function($event){$event.preventDefault();return (function (e) { return (_vm.tagImg = e.dataTransfer.files[0]); })($event)}}},[_vm._v(_vm._s(_vm.$t('hr.ocr.button'))+\" (\"+_vm._s(_vm.$root.localeNameSimple)+\")\")]),_c('input',{ref:\"image\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"image-select\",\"accept\":\"image/*\"},on:{\"change\":function($event){_vm.tagImg = _vm.$refs.image.files[0]}}}),_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(['mdui-color-blue-600', 'mdui-color-blue-200 mdui-ripple-black']),expression:\"['mdui-color-blue-600', 'mdui-color-blue-200 mdui-ripple-black']\"}],staticClass:\"mdui-btn mdui-ripple mdui-btn-dense tag-btn\",on:{\"click\":function($event){_vm.reset();\n                    _vm.$nextTick(function () { return (_vm.showGuarantees = true); });}}},[_vm._v(_vm._s(_vm.$t('hr.showBaoDi')))])])])],2)])])])]),(\n      _vm.selected.tag[_vm.enumTagZh.高级资深干员] || _vm.selected.tag[_vm.enumTagZh.资深干员] || _vm.selected.tag[_vm.enumTagZh.支援机械]\n    )?_c('div',{staticClass:\"mdui-chip-group\",class:_vm.$root.smallScreen ? 'mdui-m-b-1' : 'mdui-m-t-4'},[(_vm.selected.tag[_vm.enumTagZh.高级资深干员] || _vm.selected.tag[_vm.enumTagZh.资深干员])?_c('div',{staticClass:\"mdui-chip\"},[_vm._m(0),_c('span',{staticClass:\"mdui-chip-title mdui-text-truncate\",style:(_vm.$root.screenWidth < 360 ? 'font-size:12px' : false)},[_vm._v(_vm._s(_vm.$t('hr.tip.rare')))])]):_vm._e(),(_vm.selected.tag[_vm.enumTagZh.支援机械])?_c('div',{staticClass:\"mdui-chip\"},[_vm._m(1),_c('span',{staticClass:\"mdui-chip-title mdui-text-truncate\",style:(_vm.$root.screenWidth < 360 ? 'font-size:12px' : false)},[_vm._v(_vm._s(_vm.$t('hr.tip.robot')))])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"mdui-row\",class:{ 'mdui-m-t-4': !_vm.$root.smallScreen }},[_c('div',{staticClass:\"mdui-col-xs-12\"},[(!_vm.$root.smallScreen)?_c('div',{staticClass:\"comb-large\"},[_c('table',{staticClass:\"mdui-table mdui-table-hoverable comb-table hide-last-tr-border\"},[_c('thead',[_c('tr',{class:{ 'tbody-is-empty': !_vm.combinations.length }},[_c('th',{staticClass:\"mdui-table-col-numeric\",attrs:{\"width\":\"1\"}},[_vm._v(\"#\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(_vm._s(_vm.$t('hr.table.header.tag')))]),_c('th',{staticClass:\"mdui-text-center\",attrs:{\"width\":\"1\"}},[_vm._v(_vm._s(_vm.$t('hr.table.header.minRarity')))]),_c('th',{attrs:{\"width\":\"80%\"}},[_vm._v(_vm._s(_vm.$t('hr.table.header.possibility')))])])]),_c('tbody',_vm._l((_vm.combinations),function(comb,i){return _c('tr',{key:(\"comb-\" + i)},[_c('td',[_vm._v(_vm._s(i + 1))]),_c('td',_vm._l((comb.tags),function(tag){return _c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color.selected),expression:\"color.selected\"}],key:(\"comb-\" + i + \"-\" + tag),staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn\"},[_vm._v(_vm._s(_vm.$t((\"tag.\" + tag))))])}),0),_c('td',[_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color[comb.min]),expression:\"color[comb.min]\"}],staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn\"},[_vm._v(_vm._s(comb.min)+\"★\")])]),_c('td',_vm._l((comb.chars),function(char){return _c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color[char.star]),expression:\"color[char.star]\"}],key:(\"comb-\" + i + \"-\" + (char.name)),staticClass:\"mdui-btn mdui-btn-dense tag-btn\",attrs:{\"has-avatar\":_vm.setting.showAvatar},on:{\"click\":function($event){return _vm.showDetail(char)}}},[(!_vm.isPub(char.recruitment))?_c('div',{staticClass:\"tag-triangle\"}):_vm._e(),(_vm.setting.showAvatar)?_c('avatar',{staticClass:\"tag-avatar no-pe\",attrs:{\"name\":char.name}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.$t((\"character.\" + (char.name)))))])],1)}),0)])}),0)])]):_c('div',{staticClass:\"comb-small\"},[_c('table',{staticClass:\"mdui-table comb-table mdui-shadow-0 no-border bg-transparent hide-last-tr-border\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('hr.table.header.tag')))]),_c('th',[_vm._v(_vm._s(_vm.$t('hr.table.header.possibility')))])])]),_c('tbody',[_vm._l((_vm.combinations),function(comb,i){return [_c('tr',{key:(\"comb-\" + i + \"-tr1\")},[_c('td',{staticClass:\"mdui-p-b-0 no-border\",attrs:{\"colspan\":\"2\"}},[_vm._l((comb.tags),function(tag){return _c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color.selected),expression:\"color.selected\"}],key:(\"comb-\" + i + \"-\" + tag),staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn\"},[_vm._v(_vm._s(_vm.$t((\"tag.\" + tag))))])}),_c('div',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color.text[comb.min]),expression:\"color.text[comb.min]\"}],staticClass:\"mdui-btn-bold no-sl no-pe mdui-float-right min-star\"},[_vm._v(_vm._s(comb.min)+\"★\")])],2)]),_c('tr',{key:(\"comb-\" + i + \"-tr2\")},[_c('td',{attrs:{\"colspan\":\"2\"}},_vm._l((comb.chars),function(char){return _c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color[char.star]),expression:\"color[char.star]\"}],key:(\"comb-\" + i + \"-\" + (char.name)),staticClass:\"mdui-btn mdui-btn-dense tag-btn\",attrs:{\"has-avatar\":_vm.setting.showAvatar},on:{\"click\":function($event){return _vm.showDetail(char)}}},[(!_vm.isPub(char.recruitment))?_c('div',{staticClass:\"tag-triangle\"}):_vm._e(),(_vm.setting.showAvatar)?_c('avatar',{staticClass:\"tag-avatar no-pe\",attrs:{\"name\":char.name}}):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.$t((\"character.\" + (char.name)))))])],1)}),0)])]}),(_vm.combinations.length == 0)?_c('tr',[_c('td',{staticClass:\"no-border\",attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm.$t('hr.table.selectTip')))])]):_vm._e()],2)])])])]),_c('div',{staticClass:\"mdui-dialog mdui-card\",attrs:{\"id\":\"detail\"}},[(_vm.detail)?_c('div',{staticClass:\"mdui-card-header mdui-p-b-0\"},[_c('avatar',{key:(\"di-\" + (_vm.detail.name)),staticClass:\"mdui-card-header-avatar no-pe\",attrs:{\"name\":_vm.detail.name}}),_c('div',{staticClass:\"mdui-card-header-title mdui-m-t-1\"},[_c('span',[_vm._v(_vm._s(_vm.$t((\"character.\" + (_vm.detail.name)))))]),_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.color[_vm.detail.star]),expression:\"color[detail.star]\"}],staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn mdui-m-y-0 mdui-m-l-1\"},[_vm._v(_vm._s(_vm.detail.star)+\"★\")])]),_c('div',{staticClass:\"detail-tags mdui-m-t-1\"},_vm._l(([_vm.detail.profession, _vm.detail.position ].concat( _vm.detail.tags)),function(tag){return _c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.selected.tag[tag] ? _vm.color.selected : _vm.color.notSelected),expression:\"selected.tag[tag] ? color.selected : color.notSelected\"}],key:(\"detail-\" + tag),staticClass:\"mdui-btn mdui-btn-dense no-pe tag-btn\"},[_vm._v(_vm._s(_vm.$t((\"tag.\" + tag))))])}),0)],1):_vm._e(),_c('div',{staticClass:\"mdui-dialog-actions\"},[_c('a',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(['mdui-color-teal', 'mdui-color-teal-300 mdui-ripple-black']),expression:\"['mdui-color-teal', 'mdui-color-teal-300 mdui-ripple-black']\"}],staticClass:\"mdui-btn mdui-ripple\",attrs:{\"href\":_vm.$root.getWikiHref(_vm.detail),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.$t('common.viewOnWiki')))]),_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(['mdui-color-pink', 'mdui-color-indigo-a100 mdui-ripple-black']),expression:\"['mdui-color-pink', 'mdui-color-indigo-a100 mdui-ripple-black']\"}],staticClass:\"mdui-btn mdui-ripple mdui-color-pink\",attrs:{\"mdui-dialog-close\":\"\"}},[_vm._v(_vm._s(_vm.$t('common.close')))])])]),(_vm.$root.smallScreen)?_c('button',{directives:[{name:\"theme-class\",rawName:\"v-theme-class\",value:(_vm.$root.color.pinkBtn),expression:\"$root.color.pinkBtn\"}],staticClass:\"mdui-fab mdui-fab-fixed mdui-fab-mini mdui-ripple\",on:{\"click\":function($event){_vm.drawer ? null : (_vm.drawer = new _vm.$Drawer('#drawer'));\n      _vm.drawer.toggle();}}},[_c('i',{staticClass:\"mdui-icon material-icons\"},[_vm._v(\"sort\")])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mdui-chip-icon mdui-color-red\"},[_c('i',{staticClass:\"mdui-icon material-icons\"},[_vm._v(\"priority_high\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"mdui-chip-icon mdui-color-red\"},[_c('i',{staticClass:\"mdui-icon material-icons\"},[_vm._v(\"priority_high\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"arkn-hr\">\n    <!-- 标签面板 -->\n    <div class=\"mdui-row\">\n      <div class=\"mdui-col-xs-12\">\n        <div id=\"drawer\" :class=\"$root.smallScreen ? 'mdui-drawer mdui-drawer-right mdui-drawer-close' : false\">\n          <table class=\"mdui-table tag-table\">\n            <tbody>\n              <!-- 星级 -->\n              <tr>\n                <td v-if=\"!$root.smallScreen\" width=\"1\"\n                  ><button\n                    class=\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"\n                    v-theme-class=\"$root.color.tagBtnHead\"\n                    >{{ $t('common.stars') }}</button\n                  ></td\n                >\n                <td class=\"mobile-screen-flex-box tag-btn-wrap\">\n                  <button\n                    class=\"mdui-btn mdui-btn-dense mdui-ripple tag-btn flex-full\"\n                    v-theme-class=\"allStar ? color.selected : color.notSelected\"\n                    @click=\"selected.star = l.fill(Array(selected.star.length), !allStar)\"\n                    >{{ $t('common.selectAll') }}</button\n                  >\n                  <tag-button\n                    class=\"flex-equally\"\n                    v-for=\"i in 6\"\n                    :key=\"`star-${7 - i}`\"\n                    v-model=\"selected.star[6 - i]\"\n                    :notSelectedColor=\"color.notSelected\"\n                    :selectedColor=\"color[7 - i]\"\n                    v-show=\"!(6 - i < 2 && setting.hide12)\"\n                    >{{ 7 - i }}★</tag-button\n                  >\n                </td>\n              </tr>\n              <!-- 标签类别 -->\n              <tr v-for=\"tagType in tagList.sort\" :key=\"tagType\">\n                <td v-if=\"!$root.smallScreen\" width=\"1\">\n                  <button\n                    class=\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"\n                    v-theme-class=\"$root.color.tagBtnHead\"\n                    >{{ $t(`hr.tagType.${tagType}`) }}</button\n                  >\n                </td>\n                <td class=\"mobile-screen-flex-box tag-btn-wrap\">\n                  <tag-button\n                    v-for=\"tag in tagList[tagType]\"\n                    :key=\"`${tagType}-${tag}`\"\n                    v-model=\"selected.tag[tag]\"\n                    :notSelectedColor=\"color.notSelected\"\n                    :selectedColor=\"color.selected\"\n                    >{{ $t(`tag.${tag}`) }}</tag-button\n                  >\n                </td>\n              </tr>\n              <!-- 设置 -->\n              <tr>\n                <td v-if=\"!$root.smallScreen\" width=\"1\"\n                  ><button\n                    class=\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"\n                    v-theme-class=\"$root.color.tagBtnHead\"\n                    >{{ $t('common.setting') }}</button\n                  ></td\n                >\n                <td>\n                  <mdui-switch v-for=\"key in settingList\" :key=\"key\" v-model=\"setting[key]\">{{\n                    $t(`hr.setting.${key}`)\n                  }}</mdui-switch>\n                  <mdui-switch v-if=\"$root.localeNotZH\" class=\"mdui-m-r-2\" v-model=\"setting.showNotImplemented\">{{\n                    $t('hr.setting.showNotImplemented')\n                  }}</mdui-switch>\n                </td>\n              </tr>\n              <!-- 选项 -->\n              <tr>\n                <td v-if=\"!$root.smallScreen\" width=\"1\"\n                  ><button\n                    class=\"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header\"\n                    v-theme-class=\"$root.color.tagBtnHead\"\n                    >{{ $t('common.option') }}</button\n                  ></td\n                >\n                <td class=\"mobile-screen-flex-box tag-btn-wrap\">\n                  <button\n                    class=\"mdui-btn mdui-ripple mdui-btn-dense tag-btn\"\n                    v-theme-class=\"$root.color.redBtn\"\n                    @click=\"reset\"\n                    >{{ $t('common.reset') }}</button\n                  >\n                  <label\n                    class=\"mdui-btn mdui-ripple mdui-btn-dense tag-btn\"\n                    v-theme-class=\"['mdui-color-purple', 'mdui-color-purple-a100 mdui-ripple-black']\"\n                    for=\"image-select\"\n                    :mdui-tooltip=\"`{content:'${$t('hr.ocr.tip')}',position:'top'}`\"\n                    @dragover.prevent\n                    @drop.prevent=\"e => (tagImg = e.dataTransfer.files[0])\"\n                    >{{ $t('hr.ocr.button') }} ({{ $root.localeNameSimple }})</label\n                  >\n                  <input\n                    type=\"file\"\n                    id=\"image-select\"\n                    accept=\"image/*\"\n                    style=\"display: none;\"\n                    ref=\"image\"\n                    @change=\"tagImg = $refs.image.files[0]\"\n                  />\n                  <button\n                    class=\"mdui-btn mdui-ripple mdui-btn-dense tag-btn\"\n                    v-theme-class=\"['mdui-color-blue-600', 'mdui-color-blue-200 mdui-ripple-black']\"\n                    @click=\"\n                      reset();\n                      $nextTick(() => (showGuarantees = true));\n                    \"\n                    >{{ $t('hr.showBaoDi') }}</button\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <!-- 提示 -->\n    <div\n      v-if=\"\n        selected.tag[enumTagZh.高级资深干员] || selected.tag[enumTagZh.资深干员] || selected.tag[enumTagZh.支援机械]\n      \"\n      class=\"mdui-chip-group\"\n      :class=\"$root.smallScreen ? 'mdui-m-b-1' : 'mdui-m-t-4'\"\n    >\n      <div v-if=\"selected.tag[enumTagZh.高级资深干员] || selected.tag[enumTagZh.资深干员]\" class=\"mdui-chip\">\n        <span class=\"mdui-chip-icon mdui-color-red\"><i class=\"mdui-icon material-icons\">priority_high</i></span>\n        <span class=\"mdui-chip-title mdui-text-truncate\" :style=\"$root.screenWidth < 360 ? 'font-size:12px' : false\">{{\n          $t('hr.tip.rare')\n        }}</span>\n      </div>\n      <div v-if=\"selected.tag[enumTagZh.支援机械]\" class=\"mdui-chip\">\n        <span class=\"mdui-chip-icon mdui-color-red\"><i class=\"mdui-icon material-icons\">priority_high</i></span>\n        <span class=\"mdui-chip-title mdui-text-truncate\" :style=\"$root.screenWidth < 360 ? 'font-size:12px' : false\">{{\n          $t('hr.tip.robot')\n        }}</span>\n      </div>\n    </div>\n    <!-- 结果表格 -->\n    <div class=\"mdui-row\" :class=\"{ 'mdui-m-t-4': !$root.smallScreen }\">\n      <div class=\"mdui-col-xs-12\">\n        <div v-if=\"!$root.smallScreen\" class=\"comb-large\">\n          <table class=\"mdui-table mdui-table-hoverable comb-table hide-last-tr-border\">\n            <thead>\n              <tr :class=\"{ 'tbody-is-empty': !combinations.length }\">\n                <th width=\"1\" class=\"mdui-table-col-numeric\">#</th>\n                <th width=\"20%\">{{ $t('hr.table.header.tag') }}</th>\n                <th width=\"1\" class=\"mdui-text-center\">{{ $t('hr.table.header.minRarity') }}</th>\n                <th width=\"80%\">{{ $t('hr.table.header.possibility') }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(comb, i) in combinations\" :key=\"`comb-${i}`\">\n                <td>{{ i + 1 }}</td>\n                <td>\n                  <button\n                    v-for=\"tag in comb.tags\"\n                    :key=\"`comb-${i}-${tag}`\"\n                    class=\"mdui-btn mdui-btn-dense no-pe tag-btn\"\n                    v-theme-class=\"color.selected\"\n                    >{{ $t(`tag.${tag}`) }}</button\n                  >\n                </td>\n                <td>\n                  <button class=\"mdui-btn mdui-btn-dense no-pe tag-btn\" v-theme-class=\"color[comb.min]\"\n                    >{{ comb.min }}★</button\n                  >\n                </td>\n                <td>\n                  <!-- 干员 -->\n                  <button\n                    v-for=\"char in comb.chars\"\n                    :key=\"`comb-${i}-${char.name}`\"\n                    class=\"mdui-btn mdui-btn-dense tag-btn\"\n                    v-theme-class=\"color[char.star]\"\n                    :has-avatar=\"setting.showAvatar\"\n                    @click=\"showDetail(char)\"\n                  >\n                    <div v-if=\"!isPub(char.recruitment)\" class=\"tag-triangle\"></div>\n                    <avatar class=\"tag-avatar no-pe\" v-if=\"setting.showAvatar\" :name=\"char.name\" />\n                    <span>{{ $t(`character.${char.name}`) }}</span>\n                  </button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div v-else class=\"comb-small\">\n          <table class=\"mdui-table comb-table mdui-shadow-0 no-border bg-transparent hide-last-tr-border\">\n            <thead>\n              <tr>\n                <th>{{ $t('hr.table.header.tag') }}</th>\n                <th>{{ $t('hr.table.header.possibility') }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <template v-for=\"(comb, i) in combinations\">\n                <tr :key=\"`comb-${i}-tr1`\">\n                  <td class=\"mdui-p-b-0 no-border\" colspan=\"2\">\n                    <button\n                      v-for=\"tag in comb.tags\"\n                      :key=\"`comb-${i}-${tag}`\"\n                      class=\"mdui-btn mdui-btn-dense no-pe tag-btn\"\n                      v-theme-class=\"color.selected\"\n                      >{{ $t(`tag.${tag}`) }}</button\n                    >\n                    <div\n                      class=\"mdui-btn-bold no-sl no-pe mdui-float-right min-star\"\n                      v-theme-class=\"color.text[comb.min]\"\n                      >{{ comb.min }}★</div\n                    >\n                  </td>\n                </tr>\n                <tr :key=\"`comb-${i}-tr2`\">\n                  <td colspan=\"2\">\n                    <!-- 干员 -->\n                    <button\n                      v-for=\"char in comb.chars\"\n                      :key=\"`comb-${i}-${char.name}`\"\n                      class=\"mdui-btn mdui-btn-dense tag-btn\"\n                      v-theme-class=\"color[char.star]\"\n                      :has-avatar=\"setting.showAvatar\"\n                      @click=\"showDetail(char)\"\n                    >\n                      <div v-if=\"!isPub(char.recruitment)\" class=\"tag-triangle\"></div>\n                      <avatar class=\"tag-avatar no-pe\" v-if=\"setting.showAvatar\" :name=\"char.name\" />\n                      <span>{{ $t(`character.${char.name}`) }}</span>\n                    </button>\n                  </td>\n                </tr>\n              </template>\n              <tr v-if=\"combinations.length == 0\">\n                <td colspan=\"2\" class=\"no-border\">{{ $t('hr.table.selectTip') }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n    <!-- 详细信息 -->\n    <div id=\"detail\" class=\"mdui-dialog mdui-card\">\n      <div v-if=\"detail\" class=\"mdui-card-header mdui-p-b-0\">\n        <avatar class=\"mdui-card-header-avatar no-pe\" :key=\"`di-${detail.name}`\" :name=\"detail.name\" />\n        <div class=\"mdui-card-header-title mdui-m-t-1\">\n          <span>{{ $t(`character.${detail.name}`) }}</span>\n          <button class=\"mdui-btn mdui-btn-dense no-pe tag-btn mdui-m-y-0 mdui-m-l-1\" v-theme-class=\"color[detail.star]\"\n            >{{ detail.star }}★</button\n          >\n        </div>\n        <div class=\"detail-tags mdui-m-t-1\">\n          <button\n            v-for=\"tag in [detail.profession, detail.position, ...detail.tags]\"\n            :key=\"`detail-${tag}`\"\n            class=\"mdui-btn mdui-btn-dense no-pe tag-btn\"\n            v-theme-class=\"selected.tag[tag] ? color.selected : color.notSelected\"\n            >{{ $t(`tag.${tag}`) }}</button\n          >\n        </div>\n      </div>\n      <div class=\"mdui-dialog-actions\">\n        <a\n          class=\"mdui-btn mdui-ripple\"\n          v-theme-class=\"['mdui-color-teal', 'mdui-color-teal-300 mdui-ripple-black']\"\n          :href=\"$root.getWikiHref(detail)\"\n          target=\"_blank\"\n          >{{ $t('common.viewOnWiki') }}</a\n        >\n        <button\n          class=\"mdui-btn mdui-ripple mdui-color-pink\"\n          v-theme-class=\"['mdui-color-pink', 'mdui-color-indigo-a100 mdui-ripple-black']\"\n          mdui-dialog-close\n          >{{ $t('common.close') }}</button\n        >\n      </div>\n    </div>\n    <!-- 浮动按钮 -->\n    <button\n      v-if=\"$root.smallScreen\"\n      class=\"mdui-fab mdui-fab-fixed mdui-fab-mini mdui-ripple\"\n      v-theme-class=\"$root.color.pinkBtn\"\n      @click=\"\n        drawer ? null : (drawer = new $Drawer('#drawer'));\n        drawer.toggle();\n      \"\n    >\n      <i class=\"mdui-icon material-icons\">sort</i>\n    </button>\n  </div>\n</template>\n\n<script>\nimport 'lodash.combinations';\nimport _ from 'lodash';\nimport Ajax from '@/utils/ajax';\n\nimport IS_VERCEL from '@/utils/isVercel';\nimport characterData from '@/store/character.js';\nimport localeTagZh from '@/locales/cn/tag.json';\n\nconst enumTagZh = _.mapValues(_.invert(localeTagZh), parseInt);\nObject.freeze(enumTagZh);\n\nexport default {\n  name: 'arkn-hr',\n  data: () => ({\n    l: _,\n    showAll: false,\n    ...characterData,\n    hr: _.clone(characterData.characterList).sort((a, b) => b.star - a.star),\n    enumTagZh,\n    tags: {\n      [enumTagZh.资深干员]: [],\n      [enumTagZh.高级资深干员]: [],\n    },\n    selected: {\n      star: _.fill(Array(6), true),\n      tag: {},\n    },\n    setting: {\n      showAvatar: false,\n      hide12: false,\n      showPrivate: false,\n      showNotImplemented: false,\n    },\n    settingList: ['showAvatar', 'hide12', 'showPrivate'],\n    avgCharTag: 0,\n    tagList: {\n      locations: [enumTagZh.近战位, enumTagZh.远程位],\n      credentials: [enumTagZh.新手, enumTagZh.资深干员, enumTagZh.高级资深干员],\n      professions: Array(8)\n        .fill(null)\n        .map((v, i) => i + 1),\n      abilities: new Set(),\n      sort: ['credentials', 'locations', 'professions', 'abilities'],\n    },\n    color: {\n      notSelected: ['mdui-color-brown-300 mdui-ripple-black', 'mdui-color-grey-800'],\n      selected: ['mdui-color-grey-800', 'mdui-color-brown-100 mdui-ripple-black'],\n      6: ['mdui-color-red-700', 'mdui-color-red-200 mdui-ripple-black'],\n      5: ['mdui-color-orange-900', 'mdui-color-orange-200 mdui-ripple-black'],\n      4: ['mdui-color-cyan-700', 'mdui-color-cyan-200 mdui-ripple-black'],\n      3: ['mdui-color-green-700', 'mdui-color-green-200 mdui-ripple-black'],\n      2: ['mdui-color-brown-700', 'mdui-color-brown-200 mdui-ripple-black'],\n      1: ['mdui-color-grey-700', 'mdui-color-grey-200 mdui-ripple-black'],\n      text: {\n        6: ['mdui-text-color-red-700', 'mdui-text-color-red-200'],\n        5: ['mdui-text-color-orange-900', 'mdui-text-color-orange-200'],\n        4: ['mdui-text-color-cyan-700', 'mdui-text-color-cyan-200'],\n        3: ['mdui-text-color-green-700', 'mdui-text-color-green-200'],\n        2: ['mdui-text-color-brown-700', 'mdui-text-color-brown-200'],\n        1: ['mdui-text-color-grey-700', 'mdui-text-color-grey-200'],\n      },\n    },\n    detail: false,\n    drawer: false,\n    tagImg: false,\n    tagsCache: [],\n    showGuarantees: false,\n  }),\n  watch: {\n    'selected.tag': {\n      handler() {\n        this.showGuarantees = false;\n        let tags = _.flatMap(this.selected.tag, (selected, tag) => (selected ? [tag] : []));\n        if (tags.length > 6) {\n          new this.$alert(this.$t('hr.tagOverLimit'), null, null, {\n            confirmText: this.$t('common.okay'),\n            history: false,\n          });\n          for (const tag in this.selected.tag) {\n            this.selected.tag[tag] = this.tagsCache.includes(tag);\n          }\n          tags = this.tagsCache;\n        } else this.tagsCache = tags;\n      },\n      deep: true,\n    },\n    setting: {\n      handler(val) {\n        localStorage.setItem('hr.setting', JSON.stringify(val));\n      },\n      deep: true,\n    },\n    tagImg(file) {\n      if (IS_VERCEL) this.vercelApiOCR(file);\n      else this.OCR(file);\n    },\n  },\n  computed: {\n    allStar() {\n      return _.sum(this.selected.star) == this.selected.star.length;\n    },\n    // 计算词条组合\n    combinations() {\n      if (this.showGuarantees) return this.guarantees;\n      const tags = _.flatMap(this.selected.tag, (selected, tag) => (selected ? [tag] : []));\n      const rares = _.flatMap(this.selected.star, (selected, star) => (selected ? [star + 1] : []));\n      const combs = _.flatMap([1, 2, 3], v => _.combinations(tags, v)).map(comb => comb.map(tag => parseInt(tag)));\n      let result = [];\n      for (const comb of combs) {\n        const need = [];\n        for (const tag of comb) need.push(this.tags[tag]);\n        if (!this.setting.showPrivate) need.push(this.pubs);\n        const chars = _.intersection(...need);\n        if (!comb.includes(enumTagZh.高级资深干员)) _.remove(chars, ({ star }) => star === 6);\n        if (!this.setting.showNotImplemented) _.remove(chars, ({ name }) => !this.$root.isImplementedChar(name));\n        if (chars.length == 0) continue;\n\n        let scoreChars = _.filter(chars, ({ star }) => star >= 3);\n        if (scoreChars.length == 0) scoreChars = chars;\n        const score =\n          _.sumBy(scoreChars, ({ star }) => star) / scoreChars.length -\n          comb.length / 10 -\n          scoreChars.length / this.avgCharTag;\n\n        const minP = _.minBy(scoreChars, ({ recruitment, star }) => (this.isPub(recruitment) ? star : Infinity));\n\n        _.remove(chars, ({ star }) => !rares.includes(star));\n        if (this.setting.hide12) _.remove(chars, ({ star }) => star < 3);\n        if (chars.length == 0) continue;\n\n        result.push({\n          tags: comb,\n          chars,\n          min: minP.star,\n          score,\n        });\n      }\n      result.sort((a, b) => (a.min == b.min ? b.score - a.score : b.min - a.min));\n      // 彩蛋\n      this.$emit(\n        'nm',\n        result.some(({ min }) => min >= 5)\n      );\n      return result;\n    },\n    // 保底组合计算\n    guarantees() {\n      const guarantees = [];\n      const combs = _.flatMap([1, 2, 3], v =>\n        _.combinations([...this.tagList.professions, ...this.tagList.abilities, ...this.tagList.locations], v)\n      );\n      for (const comb of combs) {\n        const need = [this.pubs];\n        for (const tag of comb) need.push(this.tags[tag]);\n        const chars = _.intersection(...need).filter(({ star }) => 3 <= star && star < 6);\n        if (chars.length == 0) continue;\n        const min = _.min(chars.map(({ star }) => star));\n        if (min < 4) continue;\n        if (guarantees.some(({ tags, min: _min }) => _min === min && tags.every(tag => comb.includes(tag)))) continue;\n        guarantees.push({ tags: comb, min, chars });\n      }\n      return guarantees.sort((a, b) => {\n        for (const [path, ratio] of [\n          ['tags.length', 1],\n          ['min', -1],\n        ]) {\n          const compare = ratio * (_.at(a, path) - _.at(b, path));\n          if (compare != 0) return compare;\n        }\n        return 0;\n      });\n    },\n    // 公招干员\n    pubs() {\n      return this.hr.filter(({ recruitment }) => this.isPub(recruitment));\n    },\n    // 词条名->ID\n    enumTag() {\n      return _.mapValues(_.invert(this.$root.localeMessages.tag), parseInt);\n    },\n  },\n  methods: {\n    reset() {\n      this.showGuarantees = false;\n      this.selected.star = _.fill(Array(this.selected.star.length), true);\n      for (const tag in this.selected.tag) {\n        this.selected.tag[tag] = false;\n      }\n    },\n    showDetail(char) {\n      this.detail = char;\n      this.$nextTick(() => new this.$Dialog('#detail', { history: false }).open());\n    },\n    async vercelApiOCR(file) {\n      const snackbar = this.$snackbar;\n      snackbar(this.$t('hr.ocr.processing'));\n      const { code, msg, tags } = await Ajax.tagOCR({ image: file, server: this.$root.locale }).catch(e => ({\n        code: -1,\n        msg: e.message || e,\n      }));\n      if (code !== 0) {\n        snackbar({\n          message: `${this.$t('hr.ocr.uploadError')}${msg}`,\n          timeout: 0,\n          buttonText: this.$t('common.retry'),\n          onButtonClick: () => this.ocr(file),\n        });\n        return;\n      }\n      // 处理识别结果\n      this.reset();\n      // eslint-disable-next-line\n      console.log('OCR', JSON.stringify(tags));\n      let tagCount = 0;\n      for (const tag of tags) {\n        if (tag in this.enumTag) {\n          tagCount++;\n          if (tagCount > 6) {\n            snackbar(this.$t('hr.ocr.tagOverLimit'));\n            return;\n          }\n          this.selected.tag[this.enumTag[tag]] = true;\n        }\n      }\n    },\n    async OCR(file) {\n      const languageEnum = {\n        cn: 'chs',\n        tw: 'cht',\n        us: 'eng',\n        jp: 'jpn',\n        kr: 'kor',\n      };\n      this.$snackbar(this.$t('hr.ocr.processing'));\n      // 调用 ocr.space\n      const result = await Ajax.ocrspace({\n        file,\n        language: languageEnum[this.$root.locale],\n      }).catch(e => ({\n        IsErroredOnProcessing: true,\n        ErrorMessage: e,\n      }));\n      if (result.IsErroredOnProcessing) {\n        this.$snackbar({\n          message: `${this.$t('hr.ocr.error')}${_.castArray(result.ErrorMessage)\n            .map(msg => (msg.endsWith('.') ? msg : `${msg}.`))\n            .join(' ')}`,\n          timeout: 0,\n          buttonText: this.$t('common.retry'),\n          onButtonClick: () => this.ocr(file),\n        });\n        return;\n      }\n      // 处理识别结果\n      this.reset();\n      const errorList = {\n        千员: '干员',\n        滅速: '減速',\n      };\n      const words = _.reduce(\n        errorList,\n        (cur, correct, error) => cur.replace(new RegExp(error, 'g'), correct),\n        result.ParsedResults[0].ParsedText\n      ).split(/[\\r\\n]+/);\n      // eslint-disable-next-line\n      console.log('OCR', JSON.stringify(words));\n      let tagCount = 0;\n      for (const word of words) {\n        if (word.length && word in this.enumTag) {\n          tagCount++;\n          if (tagCount > 6) {\n            this.$snackbar(this.$t('hr.ocr.tagOverLimit'));\n            return;\n          }\n          this.selected.tag[this.enumTag[word]] = true;\n        }\n      }\n    },\n    // 是否是公招干员\n    isPub(recruitment) {\n      return recruitment.includes(this.$root.localeEnum[this.$root.locale]);\n    },\n    // 检测是否按下粘贴快捷键\n    detectPaste({ ctrlKey, altKey, keyCode }) {\n      if (keyCode !== 86) return;\n      if (ctrlKey || (navigator && 'platform' in navigator && navigator.platform.startsWith('Mac') && altKey))\n        this.pasteImgToOCR().catch(e => {\n          // eslint-disable-next-line\n          console.warn(e);\n          if (e.name === 'DataError') this.$snackbar({ message: this.$t('hr.ocr.pasteDataError'), timeout: 6000 });\n        });\n    },\n    // 读取剪贴板图片进行 OCR\n    async pasteImgToOCR() {\n      if (!(await this.$requestClipboardPermission('clipboard-read'))) return;\n      const items = await navigator.clipboard.read();\n      for (const item of items) {\n        const imgTypes = item.types.filter(type => type.startsWith('image/'));\n        if (imgTypes.length > 0) {\n          const blob = await item.getType(imgTypes[0]);\n          this.tagImg = new File([blob], `recruitment-${Date.now()}.${_.last(imgTypes[0].split('/'))}`, {\n            type: imgTypes[0],\n          });\n        }\n      }\n    },\n  },\n  created() {\n    let charTagSum = 0;\n\n    this.hr.forEach(char => {\n      const { tags, profession, position, star } = char;\n      // 确定特性标签\n      for (const tag of tags) {\n        if (tag !== enumTagZh.新手) this.tagList.abilities.add(tag);\n      }\n      // 资质\n      switch (star) {\n        case 5:\n          this.tags[enumTagZh.资深干员].push(char);\n          break;\n        case 6:\n          this.tags[enumTagZh.高级资深干员].push(char);\n          break;\n      }\n      // 加入标签列表\n      for (const tag of [...tags, profession, position]) {\n        if (!this.tags[tag]) this.tags[tag] = [];\n        this.tags[tag].push(char);\n      }\n      // 用于计算组合评分\n      charTagSum += tags.length + 2;\n    });\n\n    const tagCount = _.size(this.tags);\n    this.avgCharTag = charTagSum / tagCount;\n\n    this.tagList.abilities = Array.from(this.tagList.abilities).sort();\n    // .sort((a, b) => {\n    //   if (a.length == b.length) return a.localeCompare(b);\n    //   return a.length - b.length;\n    // });\n\n    this.selected.tag = _.mapValues(this.tags, () => false);\n\n    const setting = localStorage.getItem('hr.setting');\n    if (setting) this.setting = _.assign({}, this.setting, _.pick(JSON.parse(setting), _.keys(this.setting)));\n\n    this.$$(window).on('keydown', this.detectPaste);\n  },\n  beforeDestroy() {\n    this.$$(window).off('keydown', this.detectPaste);\n  },\n};\n</script>\n\n<style lang=\"scss\">\n#arkn-hr {\n  #drawer {\n    min-width: 290px;\n  }\n  .comb-table {\n    th,\n    td {\n      padding-top: 0.5em;\n      padding-bottom: 0.5em;\n    }\n    th:not(:first-child):not(:last-child),\n    td:not(:first-child):not(:last-child) {\n      padding-right: 0;\n    }\n    .tbody-is-empty th {\n      border: none;\n    }\n  }\n  #detail {\n    .mdui-card-header {\n      height: auto;\n      & > div {\n        margin-left: 92px;\n      }\n    }\n    .mdui-card-header-avatar {\n      width: 80px;\n      height: 80px;\n      background-color: #bdbdbd;\n    }\n    .mdui-card-header-title {\n      font-size: 23px;\n      line-height: 28px;\n      display: flex;\n    }\n    .mdui-card-header-subtitle {\n      font-size: 16px;\n      line-height: 24px;\n      margin-top: 3px;\n      white-space: normal;\n    }\n    .mdui-card-header-title .tag-btn {\n      height: 28px;\n      line-height: 28px;\n    }\n  }\n  .comb-small {\n    .mdui-table {\n      td:first-child {\n        padding-left: 14px;\n      }\n      td:last-child {\n        padding-right: 14px !important;\n      }\n    }\n    .min-star {\n      height: 36px;\n      line-height: 36px;\n    }\n  }\n  .tag-triangle {\n    width: 16px;\n    height: 16px;\n    position: absolute;\n    transform: rotate(45deg);\n    right: -8px;\n    top: -8px;\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n}\nbody:not(.mdui-theme-layout-dark) .mobile-screen {\n  #arkn-hr {\n    .comb-table {\n      background-color: transparent;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hr.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hr.vue?vue&type=template&id=728e52b1&\"\nimport script from \"./Hr.vue?vue&type=script&lang=js&\"\nexport * from \"./Hr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hr.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Mdui from 'mdui';\nimport _ from 'lodash';\n\nconst { ajax } = Mdui.JQ;\n\nconst JSONSTORAGE_URL = require('./isVercel') ? '/api/jsonstorage' : 'https://jsonstorage.net/api/items';\n\nconst promisedAjax = options =>\n  new Promise((resolve, reject) => {\n    ajax({\n      ...options,\n      success: data => resolve(data),\n      error: (xhr, textStatus) => reject(textStatus || 'Network error'),\n    });\n  });\n\nexport default {\n  get: (url, json = false) =>\n    promisedAjax({\n      method: 'GET',\n      url,\n      dataType: json ? 'json' : 'text',\n    }),\n  tagOCR: options => {\n    const formdata = new FormData();\n    _.each(options, (v, k) => formdata.append(k, v));\n    return promisedAjax({\n      method: 'POST',\n      url: '/api/tagocr',\n      processData: false,\n      data: formdata,\n      dataType: 'json',\n      contentType: false,\n    });\n  },\n  ocrspace: options => {\n    const formdata = new FormData();\n    _.each(options, (v, k) => formdata.append(k, v));\n    return promisedAjax({\n      method: 'POST',\n      url: 'https://api.ocr.space/parse/image',\n      processData: false,\n      data: formdata,\n      dataType: 'json',\n      contentType: false,\n      headers: { apikey: 'helloworld' },\n    });\n  },\n  createJson: obj =>\n    promisedAjax({\n      method: 'POST',\n      url: JSONSTORAGE_URL,\n      processData: false,\n      data: JSON.stringify(obj),\n      dataType: 'json',\n      contentType: 'application/json',\n    }).then(({ uri }) => _.last(uri.split('/'))),\n  getJson: id =>\n    promisedAjax({\n      method: 'GET',\n      url: `${JSONSTORAGE_URL}/${id}`,\n      dataType: 'json',\n      contentType: 'application/json',\n    }),\n  updateJson: (id, obj) =>\n    promisedAjax({\n      method: 'PUT',\n      url: `${JSONSTORAGE_URL}/${id}`,\n      processData: false,\n      data: JSON.stringify(obj),\n      dataType: 'json',\n      contentType: 'application/json',\n    }),\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hr.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hr.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}