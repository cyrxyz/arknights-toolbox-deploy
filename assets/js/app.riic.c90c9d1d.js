(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.riic"],{"072a":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var a=i("5530"),n=(i("07ac"),i("60bb")),s=i.n(n),l=i("6a80"),r=s.a.mapValues(l,(function(t,e){return Object(a["a"])({name:e},t)}));Object.values(r);e["b"]={characterTable:r,characterList:Object.values(r)}},2022:function(t,e,i){},"4ad7":function(t,e,i){},"7df1":function(t,e,i){"use strict";i("2022")},"91ae":function(t,e,i){"use strict";i("9a4a")},9701:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"arkn-base"}},[i("div",{class:!!t.$root.smallScreen&&"mdui-drawer mdui-drawer-right mdui-drawer-close",attrs:{id:"drawer"}},[i("div",{staticClass:"mdui-row"},t._l(t.tagDisplay,(function(e,a){return i("div",{key:a,staticClass:"mdui-col-xs-12 tag-group-outside"},t._l(e,(function(e){return i("div",{key:e,staticClass:"tag-group mobile-screen-flex-box equally"},[i("label",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.textColor[e],expression:"textColor[tagType]"}],staticClass:"mdui-textfield-label flex-full"},[t._v(t._s("BUILDING"===e?t.$tt("riic.select."+e):t.$t("building.name."+e)))]),t._l(t.buff.numKey[e],(function(a,n){return i("tag-button",{key:e+"-"+n,class:{"opacity-5":t.selected&&!(t.selected[0]===e&&t.selected[1]===n)},attrs:{notSelectedColor:t.color[e]||t.color.selected,selectedColor:t.color[e]||t.color.selected,canChange:!1},on:{click:function(i){return t.toggleTag(e,n)}}},[t._v(t._s("BUILDING"===e?t.$t("building.name."+n):"TRAINING"===e&&"全能"!==n?t.$t("tag."+t.enumTag[n+"干员"]):t.$tt("riic.select."+n)))])}))],2)})),0)})),0),i("div",{staticClass:"mdui-row mdui-m-t-2"},[i("div",{staticClass:"mdui-col-xs-12",staticStyle:{"white-space":"normal"}},[i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn mdui-m-r-2",on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))]),t._l(t.settingList,(function(e){return i("mdui-switch",{key:e,staticClass:"mdui-m-r-2",model:{value:t.setting[e],callback:function(i){t.$set(t.setting,e,i)},expression:"setting[key]"}},[t._v(t._s(t.$t("riic.setting."+e)))])})),t.$root.serverNotCN?i("mdui-switch",{staticClass:"mdui-m-r-2",model:{value:t.setting.showNotImplemented,callback:function(e){t.$set(t.setting,"showNotImplemented",e)},expression:"setting.showNotImplemented"}},[t._v(t._s(t.$t("riic.setting.showNotImplemented")))]):t._e()],2)]),i("div",{staticClass:"mdui-row"},[i("div",{staticClass:"mdui-col-xs-12 mdui-textfield mdui-textfield-floating-label mdui-textfield-has-clear",attrs:{id:"name-filter"}},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("riic.searchPlaceholder")))]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.nameFilterInput,expression:"nameFilterInput",modifiers:{trim:!0}}],staticClass:"mdui-textfield-input",attrs:{type:"text"},domProps:{value:t.nameFilterInput},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.nameFilterInput=""},input:function(e){e.target.composing||(t.nameFilterInput=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),i("button",{staticClass:"mdui-btn mdui-btn-icon mdui-ripple mdui-btn-dense mdui-textfield-floating-label-clear",on:{click:t.clearNameFilter}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("close")])])])])]),i("div",{class:"mdui-row "+(t.$root.smallScreen?"":"mdui-m-t-4")},[i("div",{staticClass:"mdui-col-xs-12"},[i("div",{staticClass:"mdui-table-fluid"},[i("table",{staticClass:"mdui-table hide-last-tr-border",attrs:{id:"skill-table"}},[i("thead",[i("tr",[i("th",{staticClass:"mdui-text-center"},[t._v(t._s(t.$t("riic.table.header.operator")))]),i("th",{staticClass:"mdui-text-center"},[t._v(t._s(t.$t("riic.table.header.unlock")))]),i("th",{staticClass:"mdui-text-center mdui-hidden-sm-down"},[t._v(t._s(t.$t("riic.table.header.building")))]),i("th",{staticClass:"mdui-text-center"},[t._v(t._s(t.$t("riic.table.header.skill")))]),i("th",[t._v(t._s(t.$t("riic.table.header.buff")))])])]),i("tbody",t._l(t.displaySkills,(function(t){return i("riic-skill-tr",{key:t.cid+"-"+t.id,attrs:{skill:t}})})),1)])])])]),t.$root.smallScreen?i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkBtn,expression:"$root.color.pinkBtn"}],staticClass:"mdui-fab mdui-fab-fixed mdui-fab-mini mdui-ripple",on:{click:function(e){!t.drawer&&(t.drawer=new t.$Drawer("#drawer")),t.drawer.toggle()}}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("sort")])]):i("scroll-to-top")],1)},n=[],s=i("5530"),l=i("b85c"),r=i("3835"),o=(i("dca8"),i("a4d3"),i("e01a"),i("d81d"),i("5319"),i("ac1f"),i("4de4"),i("b0c0"),i("841c"),i("5db7"),i("73d9"),i("d3b7"),i("ddb0"),i("e557")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[t.skill.span?i("td",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:!t.loadedAvatar[t.skill.cid]&&t.getObserveOption((function(e){e&&(t.avatarVisible=!0,t.$set(t.loadedAvatar,t.skill.cid,!0))})),expression:"\n      !loadedAvatar[skill.cid] &&\n      getObserveOption(isVisible => {\n        if (!isVisible) return;\n        avatarVisible = true;\n        $set(loadedAvatar, skill.cid, true);\n      })\n    "}],staticClass:"mdui-ripple no-wrap lh-1",class:{"no-border":t.skill.spanNoBorder},attrs:{width:"1",rowspan:t.skill.span},on:{click:function(e){return t.goToWiki(t.skill.cid)}}},[i("div",{staticClass:"mdui-valign"},[i("avatar",{staticClass:"mdui-list-item-avatar mdui-m-a-0",attrs:{name:(t.avatarVisible||t.loadedAvatar[t.skill.cid])&&t.skill.cid}}),i("span",{staticClass:"mdui-m-l-1"},[t._v(t._s(t.$t("character."+t.skill.cid)))])],1)]):i("td",{staticClass:"hidden"}),i("td",{staticClass:"mdui-text-center no-wrap"},[t._v(t._s(t.$t("riic.table.unlock."+t.skill.unlock)))]),i("td",{staticClass:"mdui-text-center mdui-hidden-sm-down no-wrap"},[t._v(t._s(t.$t("building.name."+t.getInfoById(t.skill.id).building)))]),i("td",{staticClass:"mdui-text-center no-wrap"},[i("span",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.color[t.getInfoById(t.skill.id).building],expression:"color[getInfoById(skill.id).building]"}],staticClass:"skill-card"},[t._v(t._s(t.$t("building.buff.name."+t.skill.id)))])]),i("td",{class:!!t.$root.smallScreen&&"no-wrap",domProps:{innerHTML:t._s(t.coloredDescription(t.$t("building.buff.description."+t.buff.description[t.skill.id])))}})])},d=[],u=i("072a"),m=i("0bbb"),f=i("60fe"),p=[{buff:"mdui-text-color-blue",debuff:"mdui-text-color-red"},{buff:"mdui-text-color-blue-200",debuff:"mdui-text-color-red-200"}],b=function(t){return{callback:t,once:!0,intersection:{rootMargin:"0px 0px 100% 0px"}}},h={},v={props:{skill:Object},data:function(){return{buff:m["a"],color:f["d"],avatarVisible:!1,loadedAvatar:h}},methods:{getObserveOption:b,getInfoById:function(t){return m["a"].info[m["a"].description[t]]},goToWiki:function(t){var e=this,i=Object(s["a"])({name:t},u["a"][t]);this.$confirm(this.$t("riic.viewOnWiki"),this.$t("character.".concat(t)),(function(){return window.open(e.$root.getWikiHref(i),"_blank")}),(function(){}),{confirmText:this.$t("common.yes"),cancelText:this.$t("common.no"),history:!1})},coloredDescription:function(t){var e=p[this.$root.dark?1:0],i=e.buff,a=e.debuff;return t.replace(/{{(.+?)}}/g,'<span class="'.concat(i,'">$1</span>')).replace(/\[\[(.+?)\]\]/g,'<span class="'.concat(a,'">$1</span>'))}}},g=v,k=(i("f2b1"),i("2877")),w=Object(k["a"])(g,c,d,!1,null,"d7ee3b24",null),x=w.exports,$=i("60bb"),_=i.n($),C=i("b9af"),y=i("86c6"),I=_.a.mapValues(_.a.invert(y),parseInt);Object.freeze(I);var N=[["BUILDING"],["MANUFACTURE","TRADING","CONTROL","DORMITORY","MEETING","WORKSHOP","TRAINING"]],O=function(t){return m["a"].info[m["a"].description[t]]},T=function(t){return _.a.transform(t,(function(t,e){var i=e.id,a=O(i),n=a.num;_.a.each(n,(function(e,i){(!t[i]||t[i]<e)&&(t[i]=e)}))}),{})},S={name:"arkn-base",components:{ScrollToTop:o["a"],RiicSkillTr:x},data:function(){return{enumTag:I,buff:m["a"],characterTable:u["a"],color:f["d"],tagDisplay:N,setting:{hideIrrelevant:!1,showNotImplemented:!1},settingList:["hideIrrelevant"],drawer:null,selected:null,nameFilterInput:"",nameFilter:"",updateNameFilter:_.a.debounce((function(t){this.nameFilter=t}),500)}},watch:{setting:{handler:function(t){localStorage.setItem("riic.setting",JSON.stringify(t))},deep:!0},nameFilterInput:function(t){this.updateNameFilter(t),t||this.updateNameFilter.flush()}},computed:{textColor:function(){return _.a.mapValues(this.color,(function(t){return t.map((function(t){return t.replace(/mdui-color/g,"mdui-text-color")}))}))},display:function(){var t=this,e=_.a.transform(m["b"],(function(e,i,a){if(t.setting.showNotImplemented||t.$root.isImplementedChar(a))if(t.selected){var n=i.filter(t.isSkillRelevant);n.length>0&&(t.setting.hideIrrelevant?e.push({name:a,skills:n}):e.push({name:a,skills:i}))}else e.push({name:a,skills:i})}),[]).reverse();if(this.selected){var i=Object(r["a"])(this.selected,2),a=i[0],n=i[1],s=_.a.castArray(m["a"].numKey[a][n]);e.sort((function(t,e){var i,a=[T(t.skills),T(e.skills)],n=a[0],r=a[1],o=Object(l["a"])(s);try{for(o.s();!(i=o.n()).done;){var c=i.value;if(n[c]||(n[c]=0),r[c]||(r[c]=0),0!==n[c]||0!==r[c])return r[c]-n[c]}}catch(d){o.e(d)}finally{o.f()}return t.name.localeCompare(e.name)}))}return e},displayWithNameFilter:function(){var t=this;if(!this.nameFilter)return this.display;var e=_.a.transform(this.display,(function(e,i){var a=t.nameFilter.replace(/ /g,""),n=t.$root.getSearchGroup(u["a"][i.name]).map((function(t){return t.indexOf(a)+1||1/0}));n.some((function(t){return t!==1/0}))&&e.push(Object(s["a"])(Object(s["a"])({},i),{},{search:n,nl:t.$t("character.".concat(i.name)).length}))}),[]);return!this.selected&&e.length&&e.sort((function(t,e){for(var i=t.search,a=t.nl,n=e.search,s=e.nl,l=0;l<Math.min(i.length,n.length);l++){var r=i[l]-n[l];if(!_.a.isNaN(r))return r||a-s}return 0})),e},displaySkills:function(){var t=this;return _.a.flatMap(this.displayWithNameFilter,(function(e,i){return e.skills.map((function(a,n){return Object(s["a"])(Object(s["a"])({cid:e.name,index:n},a),{},{span:0===n?e.skills.length:0,spanNoBorder:i===t.displayWithNameFilter.length-1})}))}))}},methods:{reset:function(){this.selected=null},toggleTag:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];_.a.isEqual(this.selected,e)?this.selected=null:this.selected=e},clearNameFilter:function(){this.nameFilterInput="",this.$$("#name-filter").removeClass("mdui-textfield-not-empty")},isSkillRelevant:function(t){var e=t.id,i=Object(r["a"])(this.selected,2),a=i[0],n=i[1],s=O(e),l=s.building,o=s.is;return"BUILDING"===a?n===l:a===l&&n in o}},created:function(){var t=localStorage.getItem("riic.setting");t&&(this.setting=_.a.assign({},this.setting,_.a.pick(Object(C["a"])(t),_.a.keys(this.setting))))}},F=S,j=(i("7df1"),Object(k["a"])(F,a,n,!1,null,null,null));e["default"]=j.exports},"9a4a":function(t,e,i){},e557:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-fab mdui-fab-fixed mdui-ripple scroll-to-top",class:{"mdui-fab-hide":t.top<1e3},on:{click:t.scrollTop}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("vertical_align_top")])])},n=[],s=i("60bb"),l=i.n(s),r={name:"scroll-to-top",data:function(){return{top:0,handleScrollDebounce:function(){}}},methods:{scrollTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})},handleScroll:function(){this.top=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},created:function(){this.handleScrollDebounce=l.a.debounce(this.handleScroll,100)},mounted:function(){window.addEventListener("scroll",this.handleScrollDebounce)},destroyed:function(){window.removeEventListener("scroll",this.handleScrollDebounce)}},o=r,c=(i("91ae"),i("2877")),d=Object(c["a"])(o,a,n,!1,null,"151fee56",null);e["a"]=d.exports},f2b1:function(t,e,i){"use strict";i("4ad7")}}]);